<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">

<h:head>
</h:head>
<h:body>
    <p:dataTable id="singleDT" var="contact" value="#{controller.contacts}">
        <!-- Om vi vill anropa dtSelectionView direkt när vi väljer i listan måste vi skapa ett ajaxevent på raden -->
        <p:ajax event="rowSelect" update="@this"/>
        <f:facet name="header">
            MY CONTACTS
        </f:facet>
        <p:column headerText="ID">
            <h:outputText value="#{contact.id}"/>
        </p:column>
        <p:column headerText="First Name">
            <h:outputText value="#{contact.firstName}"/>
        </p:column>
        <p:column headerText="Last Name">
            <h:outputText value="#{contact.lastName}"/>
        </p:column>
        <p:column headerText="Email">
            <h:outputText value="#{contact.email}"/>
        </p:column>
        <p:column headerText="Telephone">
            <h:outputText value="#{contact.tel}"/>
        </p:column>

    </p:dataTable>
    <br/>
    <br/>
    <h:form>
        <h:inputText id="firstName" value="#{controller.createdContact.firstName}"/>
        <h:inputText id="lastName" value="#{controller.createdContact.lastName}"/>
        <h:inputText id="email" value="#{controller.createdContact.email}"/>
        <h:inputText id="tel" value="#{controller.createdContact.tel}"/>
        <h:commandButton id="submit" value="Add Contact" action="#{controller.createContact()}">

        </h:commandButton>
    </h:form>
    <br/>
    <br/>
    <h:form>
        <h:inputText id="deleteId" value="#{controller.deleteId}"/>
        <h:commandButton id="delete" value="delete" action="#{controller.deleteContact()}"/>
    </h:form>

    <br/>
    <br/>
    <h:form>
        <h:inputText id="searchTerm" value="#{controller.searchTerm}"/>
        <h:commandButton id="searchTermButton" value="search" action="#{controller.findContact()}"/>
    </h:form>

    <h:form>
        <p:dataTable id="whatever" var="foundContact" value="#{controller.filteredContacts}">
            <!-- Om vi vill anropa dtSelectionView direkt när vi väljer i listan måste vi skapa ett ajaxevent på raden -->
            <p:ajax event="rowSelect" update="@this"/>
            <f:facet name="header">
                FILTERED CONTACTS
            </f:facet>
            <p:column headerText="ID">
                <h:outputText value="#{foundContact.id}"/>
            </p:column>
            <p:column headerText="First Name">
                <h:outputText value="#{foundContact.firstName}"/>
            </p:column>
            <p:column headerText="Last Name">
                <h:outputText value="#{foundContact.lastName}"/>
            </p:column>
            <p:column headerText="Email">
                <h:outputText value="#{foundContact.email}"/>
            </p:column>
            <p:column headerText="Telephone">
                <h:outputText value="#{foundContact.tel}"/>
            </p:column>

        </p:dataTable>
    </h:form>


</h:body>


</html>